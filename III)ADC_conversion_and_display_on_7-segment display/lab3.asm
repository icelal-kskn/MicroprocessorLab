;200316059 Ikram Celal KESKIN
;200316011 Musa Sina ERTUGRUL
LIST P = 16F877A
#INCLUDE <P16F877A.INC>
__CONFIG H'3F31'

DEG		EQU		0X20
delay1 	EQU 	0x21
delay2 	EQU 	0x22

		ORG		0X00
		GOTO	start

start	MOVLW	0XFF
		BANKSEL	TRISA
		MOVWF	TRISA
		CLRF	TRISB
		CLRF	TRISC
		CLRF	TRISD	
		BANKSEL	PORTA
		CLRF	PORTC
		CLRF	PORTD
		MOVLW	B'01000001'	;0X41		ADC Clock Fosc*1/8 ADON=1	
		MOVWF	ADCON0
		BANKSEL	ADCON1
		MOVLW	B'10000000'	;0X80
		MOVWF	ADCON1


loop	CALL	ReadADC		
		BANKSEL	PORTC
		MOVWF	PORTC
		MOVFW	ADRESH
		MOVWF	PORTD

		GOTO	loop
;------------------------------------------------------

ReadADC				
		BANKSEL	ADCON0
		BSF		ADCON0,GO
read	BTFSC	ADCON0,GO
		GOTO	read
		
		BANKSEL	ADRESH
		RRF		ADRESH,F
		BANKSEL	ADRESL
		RRF		ADRESL,W
RETURN
;-----------------------------------------------------
table 	addwf PCL
      	retlw B'11111100' ;0
	  	retlw B'01100000' ;1
	  	retlw B'11011010' ;2
	  	retlw B'11110010' ;3
	  	retlw B'01100110' ;4
		retlw B'10110110' ;5
		retlw B'10111110' ;6
		retlw B'11100000' ;7
		retlw B'11111110' ;8
		retlw B'11110110' ;9	

END